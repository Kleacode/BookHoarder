components:
  schemas:
    status:
      type: string
      enum:
        - "todo"
        - "wip"
        - "done"

    tag:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string

    tags:
      type: array
      items:
        $ref: "#/components/schemas/tag"

    book:
      type: object
      properties:
        title:
          type: string

new_book:
  allOf:
    - $ref: "#/components/schemas/book"
    - properties:
        userId:
          type: integer

exist_book:
  allOf:
    - $ref: "#/new_book"
    - properties:
        bookId:
          type: integer

hoarder_book:
  type: object
  properties:
    book:
      $ref: "#/exist_book"
    status:
      $ref: "#/components/schemas/status"
    tags:
      $ref: "#/components/schemas/tags"
        
post_book:
  allOf:
    - $ref: "#/components/schemas/book"

post_hoarder_new:
  allOf:
    - properties:
        book:
          $ref: "#/components/schemas/book"
        status:
          $ref: "#/components/schemas/status"
        tags:
          $ref: "#/components/schemas/tags"

post_hoarder_exist:
  allOf:
    - properties:
        status:
          $ref: "#/components/schemas/status"
        tags:
          $ref: "#/components/schemas/tags"


patch_hoarder:
  allOf:
    - properties:
        status:
          $ref: "#/components/schemas/status"
        tags:
          $ref: "#/components/schemas/tags"
